<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>:D</title>
        <script src="https://cdn.jsdelivr.net/phaser/2.5.0/phaser.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.5.3/math.min.js"></script>
        <script src="https://cdn.rawgit.com/nicolewhite/algebra.js/gh-pages/javascripts/algebra-0.2.5.min.js"></script>
    </head>
    <body>

    <script type="text/javascript">

    window.onload = function() {
        var game = new Phaser.Game(445, 475, Phaser.AUTO, '', { preload: preload, create: create });
        
        function preload () {
            parser = math.parser();
			math.import({
				solve: function (expression, solvefor) {
					var ex1 = algebra.parse(expression.toString().split("=")[0]);
					var ex2 = algebra.parse(expression.toString().split("=")[1]);
					var eq = new algebra.Equation(ex1, ex2);
					return eq.solveFor(solvefor);
				},
				about: function () {
					return "twenty1";
				}
			});
        }

        var key1, key2, key3, key4, key5, key6, key7, key8, key9, key0;
        var keyplus, keyminus, keytimes, keydivide, keyequal;
        var keya, keyb, keyc, keyd, keye, keyf, keyg, keyh, keyi, keyj, keyk, keyl, keym, keyn, keyo, keyp, keyq, keyr, keys, keyt, keyu, keyv, keyw, keyx, keyy, keyz;
        var keybackspace, keydelete, keyspace;
        var cursorPos;
        var equString = "";
        var inputBox = [];
        function addNewCharacter(character) {
            switch (character) {
                case "0":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit0'));
                    break;
                case "1":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit1'));
                    break;
                case "2":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit2'));
                    break;
                case "3":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit3'));
                    break;
                case "4":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit4'));
                    break;
                case "5":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit5'));
                    break;
                case "6":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit6'));
                    break;
                case "7":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit7'));
                    break;
                case "8":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit8'));
                    break;
                case "9":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digit9'));
                    break;
                case "(":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitpf'));
                    break;
                case ")":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitpl'));
                    break;
                case ".":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitdecimal'));
                    break;
                case "+":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitplus'));
                    break;
                case "-":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitminus'));
                    break;
                case "*":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digittimes'));
                    break;
                case "/":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitdivide'));
                    break;
                case "a":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digita'));
                    break;
                case "b":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitb'));
                    break;
                case "c":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitc'));
                    break;
                case "d":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitd'));
                    break;
                case "e":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digite'));
                    break;
                case "f":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitf'));
                    break;
                case "g":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitg'));
                    break;
                case "h":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digith'));
                    break;
                case "i":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digiti'));
                    break;
                case "j":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitj'));
                    break;
                case "k":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitk'));
                    break;
                case "l":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitl'));
                    break;
                case "m":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitm'));
                    break;
                case "n":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitn'));
                    break;
                case "o":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digito'));
                    break;
                case "p":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitp'));
                    break;
                case "q":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitq'));
                    break;
                case "r":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitr'));
                    break;
                case "s":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digits'));
                    break;
                case "t":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitt'));
                    break;
                case "u":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitu'));
                    break;
                case "v":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitv'));
                    break;
                case "w":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitw'));
                    break;
                case "x":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitx'));
                    break;
                case "y":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digity'));
                    break;
                case "z":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitz'));
                    break;
                case "=":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitequal'));
                    break;
                case ",":
                    inputBox.push(game.add.sprite((cursorPos+1)*5, 86*5, 'digitcomma'));
                    break;
            }
            equString = equString + character;
            cursorPos = cursorPos + 4;
        }
        function create() {
            ///
            cursorPos = 0;
            ///
            var font1 = [
                '.5.',
                '55.',
                '.5.',
                '.5.',
                '555',
            ];
            var font2 = [
                '555',
                '..5',
                '555',
                '5..',
                '555',
            ];
            var font3 = [
                '555',
                '..5',
                '.55',
                '..5',
                '555',
            ];
            var font4 = [
                '5.5',
                '555',
                '..5',
                '..5',
                '..5',
            ];
            var font5 = [
                '555',
                '5..',
                '555',
                '..5',
                '555',
            ];
            var font6 = [
                '555',
                '5..',
                '555',
                '5.5',
                '555',
            ];
            var font7 = [
                '555',
                '..5',
                '..5',
                '.5.',
                '.5.',
            ];
            var font8 = [
                '555',
                '5.5',
                '555',
                '5.5',
                '555',
            ];
            var font9 = [
                '555',
                '5.5',
                '555',
                '..5',
                '555',
            ];
            var font0 = [
                '555',
                '5.5',
                '5.5',
                '5.5',
                '555',
            ];
            var fontpf = [
                '..5',
                '.5.',
                '.5.',
                '.5.',
                '..5',
            ];
            var fontpl = [
                '5..',
                '.5.',
                '.5.',
                '.5.',
                '5..',
            ];
            var fontdecimal = [
                '...',
                '...',
                '...',
                '...',
                '.5.',
            ];
            var fontplus = [
                '...',
                '.5.',
                '555',
                '.5.',
                '...',
            ];
            var fontminus = [
                '...',
                '...',
                '555',
                '...',
                '...',
            ];
            var fonttimes = [
                '...',
                '5.5',
                '.5.',
                '5.5',
                '...',
            ];
            var fontdivide = [
                '...',
                '..5',
                '.5.',
                '5..',
                '...',
            ];
            var fontequal = [
                '...',
                '555',
                '...',
                '555',
                '...',
            ];
            var fontcomma = [
                '...',
                '...',
                '...',
                '.5.',
                '5..',
            ];
            var fontspace = [
                '...',
                '...',
                '...',
                '...',
                '...',
            ];
            //letters based off of http://i.fonts2u.com/pi/mp1_pixelzim-3x5_1.png
            var fonta = [
                '.5.',
                '5.5',
                '555',
                '5.5',
                '5.5',
            ];
            var fontb = [
                '55.',
                '5.5',
                '555',
                '5.5',
                '55.',
            ];
            var fontc = [
                '555',
                '5..',
                '5..',
                '5..',
                '555',
            ];
            var fontd = [
                '55.',
                '5.5',
                '5.5',
                '5.5',
                '55.',
            ];
            var fonte = [
                '555',
                '5..',
                '55.',
                '5..',
                '555',
            ];
            var fontf = [
                '555',
                '5..',
                '55.',
                '5..',
                '5..',
            ];
            var fontg = [
                '555',
                '5..',
                '5.5',
                '5.5',
                '555',
            ];
            var fonth = [
                '5.5',
                '5.5',
                '555',
                '5.5',
                '5.5',
            ];
            var fonti = [
                '555',
                '.5.',
                '.5.',
                '.5.',
                '555',
            ];
            var fontj = [
                '..5',
                '..5',
                '..5',
                '5.5',
                '555',
            ];
            var fontk = [
                '5.5',
                '5.5',
                '55.',
                '5.5',
                '5.5',
            ];
            var fontl = [
                '5..',
                '5..',
                '5..',
                '5..',
                '555',
            ];
            var fontm = [
                '5.5',
                '555',
                '5.5',
                '5.5',
                '5.5',
            ];
            var fontn = [
                '555',
                '5.5',
                '5.5',
                '5.5',
                '5.5',
            ];
            var fonto = [
                '555',
                '5.5',
                '5.5',
                '5.5',
                '555',
            ];
            var fontp = [
                '555',
                '5.5',
                '555',
                '5..',
                '5..',
            ];
            var fontq = [
                '555',
                '5.5',
                '555',
                '.5.',
                '..5',
            ];
            var fontr = [
                '555',
                '5.5',
                '555',
                '55.',
                '5.5',
            ];
            var fonts = [
                '555',
                '5..',
                '555',
                '..5',
                '555',
            ];
            var fontt = [
                '555',
                '.5.',
                '.5.',
                '.5.',
                '.5.',
            ];
            var fontu = [
                '5.5',
                '5.5',
                '5.5',
                '5.5',
                '555',
            ];
            var fontv = [
                '5.5',
                '5.5',
                '5.5',
                '5.5',
                '.5.',
            ];
            var fontw = [
                '5.5',
                '5.5',
                '5.5',
                '555',
                '5.5',
            ];
            var fontx = [
                '5.5',
                '5.5',
                '.5.',
                '5.5',
                '5.5',
            ];
            var fonty = [
                '5.5',
                '5.5',
                '.5.',
                '.5.',
                '.5.',
            ];
            var fontz = [
                '555',
                '..5',
                '.5.',
                '5..',
                '555',
            ];
            var workspace = [
				'123456789ABCDEF123456789ABCDEF123456789ABCDEF123456789ABCDEF123456789ABCDEF123456789ABCDE',
				'1.......................................................................................1',
				'1............................789.B...F.234.6..9.BCD.F.2...6.............................1',
				'1.............................8..B...F.2...67.9..C..F.2..56.............................1',
				'1.............................8..B...F.23..6.89..C...1....6.............................1',
				'1.............................8..B.D.F.2...6..9..C...1....6.............................1',
				'1.............................8...C.E..234.6..9..C...1...567............................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'1.......................................................................................1',
				'11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111'
			];
        
            game.create.texture('workspace', workspace, 5, 5);
            game.create.texture('digit1', font1, 5, 5);
            game.create.texture('digit2', font2, 5, 5);
            game.create.texture('digit3', font3, 5, 5);
            game.create.texture('digit4', font4, 5, 5);
            game.create.texture('digit5', font5, 5, 5);
            game.create.texture('digit6', font6, 5, 5);
            game.create.texture('digit7', font7, 5, 5);
            game.create.texture('digit8', font8, 5, 5);
            game.create.texture('digit9', font9, 5, 5);
            game.create.texture('digit0', font0, 5, 5);
            game.create.texture('digitpf', fontpf, 5, 5);
            game.create.texture('digitpl', fontpl, 5, 5);
            game.create.texture('digitdecimal', fontdecimal, 5, 5);
            game.create.texture('digitcomma', fontcomma, 5, 5);
            game.create.texture('digitplus', fontplus, 5, 5);
            game.create.texture('digitminus', fontminus, 5, 5);
            game.create.texture('digittimes', fonttimes, 5, 5);
            game.create.texture('digitdivide', fontdivide, 5, 5);
            game.create.texture('digitequal', fontequal, 5, 5);
            game.create.texture('digitspace', fontspace, 5, 5);
            game.create.texture('digita', fonta, 5, 5);
            game.create.texture('digitb', fontb, 5, 5);
            game.create.texture('digitc', fontc, 5, 5);
            game.create.texture('digitd', fontd, 5, 5);
            game.create.texture('digite', fonte, 5, 5);
            game.create.texture('digitf', fontf, 5, 5);
            game.create.texture('digitg', fontg, 5, 5);
            game.create.texture('digith', fonth, 5, 5);
            game.create.texture('digiti', fonti, 5, 5);
            game.create.texture('digitj', fontj, 5, 5);
            game.create.texture('digitk', fontk, 5, 5);
            game.create.texture('digitl', fontl, 5, 5);
            game.create.texture('digitm', fontm, 5, 5);
            game.create.texture('digitn', fontn, 5, 5);
            game.create.texture('digito', fonto, 5, 5);
            game.create.texture('digitp', fontp, 5, 5);
            game.create.texture('digitq', fontq, 5, 5);
            game.create.texture('digitr', fontr, 5, 5);
            game.create.texture('digits', fonts, 5, 5);
            game.create.texture('digitt', fontt, 5, 5);
            game.create.texture('digitu', fontu, 5, 5);
            game.create.texture('digitv', fontv, 5, 5);
            game.create.texture('digitw', fontw, 5, 5);
            game.create.texture('digitx', fontx, 5, 5);
            game.create.texture('digity', fonty, 5, 5);
            game.create.texture('digitz', fontz, 5, 5);
            game.add.sprite(0, 0, 'workspace');
            
            keyshift = game.input.keyboard.addKey(Phaser.Keyboard.SHIFT);
            
            key1 = game.input.keyboard.addKey(Phaser.Keyboard.ONE);
            key2 = game.input.keyboard.addKey(Phaser.Keyboard.TWO);
            key3 = game.input.keyboard.addKey(Phaser.Keyboard.THREE);
            key4 = game.input.keyboard.addKey(Phaser.Keyboard.FOUR);
            key5 = game.input.keyboard.addKey(Phaser.Keyboard.FIVE);
            key6 = game.input.keyboard.addKey(Phaser.Keyboard.SIX);
            key7 = game.input.keyboard.addKey(Phaser.Keyboard.SEVEN);
            key8 = game.input.keyboard.addKey(Phaser.Keyboard.EIGHT);
            key9 = game.input.keyboard.addKey(Phaser.Keyboard.NINE);
            key0 = game.input.keyboard.addKey(Phaser.Keyboard.ZERO);
            keydecimal = game.input.keyboard.addKey(Phaser.Keyboard.PERIOD);
            keycomma = game.input.keyboard.addKey(Phaser.Keyboard.COMMA);
            keyplus = game.input.keyboard.addKey(187);
            keyminus = game.input.keyboard.addKey(189);
            keytimes = game.input.keyboard.addKey(56);
            keydivide = game.input.keyboard.addKey(191);
            keyenter = game.input.keyboard.addKey(Phaser.Keyboard.ENTER);
            keyequal = game.input.keyboard.addKey(Phaser.Keyboard.EQUALS);
            keybackspace = game.input.keyboard.addKey(Phaser.Keyboard.BACKSPACE);
            keydelete = game.input.keyboard.addKey(Phaser.Keyboard.DELETE);
            keyspace = game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
            keya = game.input.keyboard.addKey(Phaser.Keyboard.A);
            keyb = game.input.keyboard.addKey(Phaser.Keyboard.B);
            keyc = game.input.keyboard.addKey(Phaser.Keyboard.C);
            keyd = game.input.keyboard.addKey(Phaser.Keyboard.D);
            keye = game.input.keyboard.addKey(Phaser.Keyboard.E);
            keyf = game.input.keyboard.addKey(Phaser.Keyboard.F);
            keyg = game.input.keyboard.addKey(Phaser.Keyboard.G);
            keyh = game.input.keyboard.addKey(Phaser.Keyboard.H);
            keyi = game.input.keyboard.addKey(Phaser.Keyboard.I);
            keyj = game.input.keyboard.addKey(Phaser.Keyboard.J);
            keyk = game.input.keyboard.addKey(Phaser.Keyboard.K);
            keyl = game.input.keyboard.addKey(Phaser.Keyboard.L);
            keym = game.input.keyboard.addKey(Phaser.Keyboard.M);
            keyn = game.input.keyboard.addKey(Phaser.Keyboard.N);
            keyo = game.input.keyboard.addKey(Phaser.Keyboard.O);
            keyp = game.input.keyboard.addKey(Phaser.Keyboard.P);
            keyq = game.input.keyboard.addKey(Phaser.Keyboard.Q);
            keyr = game.input.keyboard.addKey(Phaser.Keyboard.R);
            keys = game.input.keyboard.addKey(Phaser.Keyboard.S);
            keyt = game.input.keyboard.addKey(Phaser.Keyboard.T);
            keyu = game.input.keyboard.addKey(Phaser.Keyboard.U);
            keyv = game.input.keyboard.addKey(Phaser.Keyboard.V);
            keyw = game.input.keyboard.addKey(Phaser.Keyboard.W);
            keyx = game.input.keyboard.addKey(Phaser.Keyboard.X);
            keyy = game.input.keyboard.addKey(Phaser.Keyboard.Y);
            keyz = game.input.keyboard.addKey(Phaser.Keyboard.Z);
            
            key0.onDown.add(function(key){
            	if (!(keyshift.isDown)) {
                	addNewCharacter("0");
                } else {
                	addNewCharacter(")");
                }
            }, this);
            key1.onDown.add(function(key){
                addNewCharacter("1");
            }, this);
            key2.onDown.add(function(key){
                addNewCharacter("2");
            }, this);
            key3.onDown.add(function(key){
                addNewCharacter("3");
            }, this);
            key4.onDown.add(function(key){
                addNewCharacter("4");
            }, this);
            key5.onDown.add(function(key){
                addNewCharacter("5");
            }, this);
            key6.onDown.add(function(key){
                addNewCharacter("6");
            }, this);
            key7.onDown.add(function(key){
                addNewCharacter("7");
            }, this);
            key8.onDown.add(function(key){
                if (!(keyshift.isDown)) {
                    addNewCharacter("8");
                }
            }, this);
            key9.onDown.add(function(key){
            	if (!(keyshift.isDown)) {
                	addNewCharacter("9");
                } else {
                	addNewCharacter("(");
                }
            }, this);
            keydecimal.onDown.add(function(key){
                addNewCharacter(".");
            }, this);
            keycomma.onDown.add(function(key){
                addNewCharacter(",");
            }, this);
            keyspace.onDown.add(function(key){
                addNewCharacter(" ");
            }, this);
            keya.onDown.add(function(key){
                addNewCharacter("a");
            }, this);
            keyb.onDown.add(function(key){
                addNewCharacter("b");
            }, this);
            keyc.onDown.add(function(key){
                addNewCharacter("c");
            }, this);
            keyd.onDown.add(function(key){
                addNewCharacter("d");
            }, this);
            keye.onDown.add(function(key){
                addNewCharacter("e");
            }, this);
            keyf.onDown.add(function(key){
                addNewCharacter("f");
            }, this);
            keyg.onDown.add(function(key){
                addNewCharacter("g");
            }, this);
            keyh.onDown.add(function(key){
                addNewCharacter("h");
            }, this);
            keyi.onDown.add(function(key){
                addNewCharacter("i");
            }, this);
            keyj.onDown.add(function(key){
                addNewCharacter("j");
            }, this);
            keyk.onDown.add(function(key){
                addNewCharacter("k");
            }, this);
            keyl.onDown.add(function(key){
                addNewCharacter("l");
            }, this);
            keym.onDown.add(function(key){
                addNewCharacter("m");
            }, this);
            keyn.onDown.add(function(key){
                addNewCharacter("n");
            }, this);
            keyo.onDown.add(function(key){
                addNewCharacter("o");
            }, this);
            keyp.onDown.add(function(key){
                addNewCharacter("p");
            }, this);
            keyq.onDown.add(function(key){
                addNewCharacter("q");
            }, this);
            keyr.onDown.add(function(key){
                addNewCharacter("r");
            }, this);
            keys.onDown.add(function(key){
                addNewCharacter("s");
            }, this);
            keyt.onDown.add(function(key){
                addNewCharacter("t");
            }, this);
            keyu.onDown.add(function(key){
                addNewCharacter("u");
            }, this);
            keyv.onDown.add(function(key){
                addNewCharacter("v");
            }, this);
            keyw.onDown.add(function(key){
                addNewCharacter("w");
            }, this);
            keyx.onDown.add(function(key){
                addNewCharacter("x");
            }, this);
            keyy.onDown.add(function(key){
                addNewCharacter("y");
            }, this);
            keyz.onDown.add(function(key){
                addNewCharacter("z");
            }, this);
            keyplus.onDown.add(function(key){
                if (keyshift.isDown) {
                    addNewCharacter("+");
                }
            }, this);
            keyminus.onDown.add(function(key){
                addNewCharacter("-");
            }, this);
            keytimes.onDown.add(function(key){
                if (keyshift.isDown) {
                    addNewCharacter("*");
                }
            }, this);
            keydivide.onDown.add(function(key){
                addNewCharacter("/");
            }, this);
            keyenter.onDown.add(function(key){
                if (equString == "9+10") {
                    var answer = "twenty1";
                } else {
					var answer = parser.eval(equString.replace(/solve\((.*),/g, "solve\(\"$1\",").replace(/,(.*)\)/g, ",\"$1\")")).toString();
                }
                addNewCharacter("=");
                for (var i = 0; i < answer.length; i++) {
                    addNewCharacter(answer.charAt(i));
                }
				if (equString.length > 22) {
					alert(answer);
				}
            }, this);
            keyequal.onDown.add(function(key){
                if (!(keyshift.isDown)) {
					addNewCharacter("=");
				}
            }, this);
            keydelete.onDown.add(function(key){
                for (var i = 0; i < inputBox.length; i++) {
                    inputBox[i].destroy();
                }
                inputBox.splice(0, inputBox.length);
                equString = "";
                cursorPos = 0;
            }, this);
            keybackspace.onDown.add(function(key){
				if (inputBox.length > 0) {
					inputBox[inputBox.length-1].destroy();
					inputBox.splice(inputBox.length-1, 1);
					equString = equString.substring(0, equString.length - 1);
					cursorPos = cursorPos - 4;
				}
            }, this);
        }
    };
    </script>

    </body>
</html>
